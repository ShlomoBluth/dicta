"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _fs = _interopRequireDefault(require("fs"));

var _path = require("path");

var _globals = require("./globals");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const isPackageDir = dir => _fs.default.existsSync((0, _path.join)(dir, 'package.json'));

const findPackageDir = (dir = _globals.process.cwd()) => {
  if (isPackageDir(dir)) {
    return dir;
  }

  const parentDir = (0, _path.dirname)(dir);

  if (parentDir === dir) {
    return;
  }

  return findPackageDir(parentDir);
};

var _default = findPackageDir;
exports.default = _default;